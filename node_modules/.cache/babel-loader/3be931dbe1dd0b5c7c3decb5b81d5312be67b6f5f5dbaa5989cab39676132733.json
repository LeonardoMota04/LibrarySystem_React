{"ast":null,"code":"import { collection, doc, getDocs, getDoc, addDoc, updateDoc, deleteDoc, query, where, arrayUnion, arrayRemove, increment } from 'firebase/firestore';\nimport { db } from '../firebase/config';\n\n// Referência para a coleção de livros\nconst booksCollection = collection(db, 'books');\nconst GOOGLE_BOOKS_API_KEY = process.env.REACT_APP_GOOGLE_BOOKS_API_KEY;\nconst GOOGLE_BOOKS_API_URL = 'https://www.googleapis.com/books/v1/volumes';\nexport const searchBooks = async searchTerm => {\n  try {\n    if (!searchTerm || searchTerm.trim().length < 2) {\n      throw new Error('O termo de busca deve ter pelo menos 2 caracteres');\n    }\n    if (!GOOGLE_BOOKS_API_KEY) {\n      throw new Error('Chave da API do Google Books não configurada');\n    }\n    const encodedSearchTerm = encodeURIComponent(searchTerm.trim());\n    const response = await fetch(`${GOOGLE_BOOKS_API_URL}?q=${encodedSearchTerm}&key=${GOOGLE_BOOKS_API_KEY}&langRestrict=pt`);\n    if (!response.ok) {\n      throw new Error(`Erro na API do Google Books: ${response.status}`);\n    }\n    const data = await response.json();\n    if (!data.items) {\n      return [];\n    }\n    return data.items.map(item => {\n      var _item$volumeInfo$imag;\n      return {\n        id: item.id,\n        title: item.volumeInfo.title,\n        author: item.volumeInfo.authors ? item.volumeInfo.authors[0] : 'Autor desconhecido',\n        description: item.volumeInfo.description || 'Sem descrição disponível',\n        imageUrl: ((_item$volumeInfo$imag = item.volumeInfo.imageLinks) === null || _item$volumeInfo$imag === void 0 ? void 0 : _item$volumeInfo$imag.thumbnail) || 'https://via.placeholder.com/150',\n        publisher: item.volumeInfo.publisher || 'Editora desconhecida',\n        publishedDate: item.volumeInfo.publishedDate || 'Data desconhecida',\n        pageCount: item.volumeInfo.pageCount || 0,\n        categories: item.volumeInfo.categories || [],\n        language: item.volumeInfo.language || 'pt'\n      };\n    });\n  } catch (error) {\n    console.error('Erro ao buscar livros:', error);\n    throw error;\n  }\n};\n\n// Buscar todos os livros\nexport async function getBooks() {\n  try {\n    const querySnapshot = await getDocs(booksCollection);\n    return querySnapshot.docs.map(doc => ({\n      id: doc.id,\n      ...doc.data()\n    }));\n  } catch (error) {\n    console.error('Erro ao buscar livros:', error);\n    throw error;\n  }\n}\n\n// Buscar um livro específico\nexport async function getBook(bookId) {\n  try {\n    const bookDoc = await getDoc(doc(db, 'books', bookId));\n    if (bookDoc.exists()) {\n      return {\n        id: bookDoc.id,\n        ...bookDoc.data()\n      };\n    } else {\n      throw new Error('Livro não encontrado');\n    }\n  } catch (error) {\n    console.error('Erro ao buscar livro:', error);\n    throw error;\n  }\n}\n\n// Adicionar um novo livro\nexport async function addBook(bookData) {\n  try {\n    console.log(\"Adicionando novo livro:\", bookData);\n\n    // Separar o ID do Google Books do resto dos dados\n    const {\n      id: googleBooksId,\n      ...restData\n    } = bookData;\n    const docRef = await addDoc(booksCollection, {\n      ...restData,\n      googleBooksId,\n      // Armazenar o ID do Google Books separadamente\n      favoritesCount: 0,\n      favoritedBy: [],\n      createdAt: new Date().toISOString()\n    });\n    console.log(\"Livro adicionado com sucesso, ID do Firestore:\", docRef.id);\n    return docRef.id;\n  } catch (error) {\n    console.error('Erro ao adicionar livro:', error);\n    throw error;\n  }\n}\n\n// Atualizar um livro existente\nexport async function updateBook(bookId, bookData) {\n  try {\n    const bookRef = doc(db, 'books', bookId);\n    await updateDoc(bookRef, {\n      ...bookData,\n      updatedAt: new Date().toISOString()\n    });\n  } catch (error) {\n    console.error('Erro ao atualizar livro:', error);\n    throw error;\n  }\n}\n\n// Excluir um livro\nexport async function deleteBook(bookId) {\n  try {\n    console.log(\"Iniciando exclusão do livro no Firestore:\", bookId);\n\n    // Verificar se o livro existe\n    const bookDoc = await getDoc(doc(db, 'books', bookId));\n    if (!bookDoc.exists()) {\n      console.log(\"Livro não encontrado no Firestore\");\n      throw new Error('Livro não encontrado');\n    }\n    console.log(\"Livro encontrado, procedendo com a exclusão\");\n    await deleteDoc(doc(db, 'books', bookId));\n    console.log(\"Livro excluído com sucesso do Firestore\");\n  } catch (error) {\n    console.error('Erro ao excluir livro:', error);\n    throw error;\n  }\n}\n\n// Adicionar um livro aos favoritos\nexport async function addToFavorites(bookId, userId) {\n  try {\n    console.log(`Adicionando livro ${bookId} aos favoritos do usuário ${userId}`);\n\n    // Verificar se o livro existe\n    const bookDoc = await getDoc(doc(db, 'books', bookId));\n    if (!bookDoc.exists()) {\n      throw new Error('Livro não encontrado');\n    }\n    const bookRef = doc(db, 'books', bookId);\n    await updateDoc(bookRef, {\n      favoritedBy: arrayUnion(userId),\n      favoritesCount: increment(1)\n    });\n    console.log('Livro adicionado aos favoritos com sucesso');\n  } catch (error) {\n    console.error('Erro ao adicionar aos favoritos:', error);\n    throw error;\n  }\n}\n\n// Remover um livro dos favoritos\nexport async function removeFromFavorites(bookId, userId) {\n  try {\n    console.log(`Removendo livro ${bookId} dos favoritos do usuário ${userId}`);\n\n    // Verificar se o livro existe\n    const bookDoc = await getDoc(doc(db, 'books', bookId));\n    if (!bookDoc.exists()) {\n      throw new Error('Livro não encontrado');\n    }\n    const bookRef = doc(db, 'books', bookId);\n    await updateDoc(bookRef, {\n      favoritedBy: arrayRemove(userId),\n      favoritesCount: increment(-1)\n    });\n    console.log('Livro removido dos favoritos com sucesso');\n  } catch (error) {\n    console.error('Erro ao remover dos favoritos:', error);\n    throw error;\n  }\n}\n\n// Verificar se um livro está nos favoritos do usuário\nexport async function isBookFavorited(bookId, userId) {\n  try {\n    const bookDoc = await getDoc(doc(db, 'books', bookId));\n    if (bookDoc.exists()) {\n      const bookData = bookDoc.data();\n      return bookData.favoritedBy && bookData.favoritedBy.includes(userId);\n    }\n    return false;\n  } catch (error) {\n    console.error('Erro ao verificar favoritos:', error);\n    throw error;\n  }\n}\n\n// Buscar livros favoritos do usuário\nexport async function getUserFavorites(userId) {\n  try {\n    const q = query(booksCollection, where('favoritedBy', 'array-contains', userId));\n    const querySnapshot = await getDocs(q);\n    return querySnapshot.docs.map(doc => ({\n      id: doc.id,\n      ...doc.data()\n    }));\n  } catch (error) {\n    console.error('Erro ao buscar favoritos do usuário:', error);\n    throw error;\n  }\n}","map":{"version":3,"names":["collection","doc","getDocs","getDoc","addDoc","updateDoc","deleteDoc","query","where","arrayUnion","arrayRemove","increment","db","booksCollection","GOOGLE_BOOKS_API_KEY","process","env","REACT_APP_GOOGLE_BOOKS_API_KEY","GOOGLE_BOOKS_API_URL","searchBooks","searchTerm","trim","length","Error","encodedSearchTerm","encodeURIComponent","response","fetch","ok","status","data","json","items","map","item","_item$volumeInfo$imag","id","title","volumeInfo","author","authors","description","imageUrl","imageLinks","thumbnail","publisher","publishedDate","pageCount","categories","language","error","console","getBooks","querySnapshot","docs","getBook","bookId","bookDoc","exists","addBook","bookData","log","googleBooksId","restData","docRef","favoritesCount","favoritedBy","createdAt","Date","toISOString","updateBook","bookRef","updatedAt","deleteBook","addToFavorites","userId","removeFromFavorites","isBookFavorited","includes","getUserFavorites","q"],"sources":["/Users/leonardomota/Desktop/library-system-react/src/services/bookService.js"],"sourcesContent":["import { \n  collection, \n  doc, \n  getDocs, \n  getDoc, \n  addDoc, \n  updateDoc, \n  deleteDoc, \n  query, \n  where, \n  arrayUnion, \n  arrayRemove,\n  increment\n} from 'firebase/firestore';\nimport { db } from '../firebase/config';\n\n// Referência para a coleção de livros\nconst booksCollection = collection(db, 'books');\n\nconst GOOGLE_BOOKS_API_KEY = process.env.REACT_APP_GOOGLE_BOOKS_API_KEY;\nconst GOOGLE_BOOKS_API_URL = 'https://www.googleapis.com/books/v1/volumes';\n\nexport const searchBooks = async (searchTerm) => {\n  try {\n    if (!searchTerm || searchTerm.trim().length < 2) {\n      throw new Error('O termo de busca deve ter pelo menos 2 caracteres');\n    }\n\n    if (!GOOGLE_BOOKS_API_KEY) {\n      throw new Error('Chave da API do Google Books não configurada');\n    }\n\n    const encodedSearchTerm = encodeURIComponent(searchTerm.trim());\n    const response = await fetch(`${GOOGLE_BOOKS_API_URL}?q=${encodedSearchTerm}&key=${GOOGLE_BOOKS_API_KEY}&langRestrict=pt`);\n    \n    if (!response.ok) {\n      throw new Error(`Erro na API do Google Books: ${response.status}`);\n    }\n\n    const data = await response.json();\n    \n    if (!data.items) {\n      return [];\n    }\n\n    return data.items.map(item => ({\n      id: item.id,\n      title: item.volumeInfo.title,\n      author: item.volumeInfo.authors ? item.volumeInfo.authors[0] : 'Autor desconhecido',\n      description: item.volumeInfo.description || 'Sem descrição disponível',\n      imageUrl: item.volumeInfo.imageLinks?.thumbnail || 'https://via.placeholder.com/150',\n      publisher: item.volumeInfo.publisher || 'Editora desconhecida',\n      publishedDate: item.volumeInfo.publishedDate || 'Data desconhecida',\n      pageCount: item.volumeInfo.pageCount || 0,\n      categories: item.volumeInfo.categories || [],\n      language: item.volumeInfo.language || 'pt'\n    }));\n  } catch (error) {\n    console.error('Erro ao buscar livros:', error);\n    throw error;\n  }\n};\n\n// Buscar todos os livros\nexport async function getBooks() {\n  try {\n    const querySnapshot = await getDocs(booksCollection);\n    return querySnapshot.docs.map(doc => ({\n      id: doc.id,\n      ...doc.data()\n    }));\n  } catch (error) {\n    console.error('Erro ao buscar livros:', error);\n    throw error;\n  }\n}\n\n// Buscar um livro específico\nexport async function getBook(bookId) {\n  try {\n    const bookDoc = await getDoc(doc(db, 'books', bookId));\n    if (bookDoc.exists()) {\n      return {\n        id: bookDoc.id,\n        ...bookDoc.data()\n      };\n    } else {\n      throw new Error('Livro não encontrado');\n    }\n  } catch (error) {\n    console.error('Erro ao buscar livro:', error);\n    throw error;\n  }\n}\n\n// Adicionar um novo livro\nexport async function addBook(bookData) {\n  try {\n    console.log(\"Adicionando novo livro:\", bookData);\n    \n    // Separar o ID do Google Books do resto dos dados\n    const { id: googleBooksId, ...restData } = bookData;\n    \n    const docRef = await addDoc(booksCollection, {\n      ...restData,\n      googleBooksId, // Armazenar o ID do Google Books separadamente\n      favoritesCount: 0,\n      favoritedBy: [],\n      createdAt: new Date().toISOString()\n    });\n    \n    console.log(\"Livro adicionado com sucesso, ID do Firestore:\", docRef.id);\n    return docRef.id;\n  } catch (error) {\n    console.error('Erro ao adicionar livro:', error);\n    throw error;\n  }\n}\n\n// Atualizar um livro existente\nexport async function updateBook(bookId, bookData) {\n  try {\n    const bookRef = doc(db, 'books', bookId);\n    await updateDoc(bookRef, {\n      ...bookData,\n      updatedAt: new Date().toISOString()\n    });\n  } catch (error) {\n    console.error('Erro ao atualizar livro:', error);\n    throw error;\n  }\n}\n\n// Excluir um livro\nexport async function deleteBook(bookId) {\n  try {\n    console.log(\"Iniciando exclusão do livro no Firestore:\", bookId);\n    \n    // Verificar se o livro existe\n    const bookDoc = await getDoc(doc(db, 'books', bookId));\n    if (!bookDoc.exists()) {\n      console.log(\"Livro não encontrado no Firestore\");\n      throw new Error('Livro não encontrado');\n    }\n    \n    console.log(\"Livro encontrado, procedendo com a exclusão\");\n    await deleteDoc(doc(db, 'books', bookId));\n    console.log(\"Livro excluído com sucesso do Firestore\");\n  } catch (error) {\n    console.error('Erro ao excluir livro:', error);\n    throw error;\n  }\n}\n\n// Adicionar um livro aos favoritos\nexport async function addToFavorites(bookId, userId) {\n  try {\n    console.log(`Adicionando livro ${bookId} aos favoritos do usuário ${userId}`);\n    \n    // Verificar se o livro existe\n    const bookDoc = await getDoc(doc(db, 'books', bookId));\n    if (!bookDoc.exists()) {\n      throw new Error('Livro não encontrado');\n    }\n    \n    const bookRef = doc(db, 'books', bookId);\n    await updateDoc(bookRef, {\n      favoritedBy: arrayUnion(userId),\n      favoritesCount: increment(1)\n    });\n    \n    console.log('Livro adicionado aos favoritos com sucesso');\n  } catch (error) {\n    console.error('Erro ao adicionar aos favoritos:', error);\n    throw error;\n  }\n}\n\n// Remover um livro dos favoritos\nexport async function removeFromFavorites(bookId, userId) {\n  try {\n    console.log(`Removendo livro ${bookId} dos favoritos do usuário ${userId}`);\n    \n    // Verificar se o livro existe\n    const bookDoc = await getDoc(doc(db, 'books', bookId));\n    if (!bookDoc.exists()) {\n      throw new Error('Livro não encontrado');\n    }\n    \n    const bookRef = doc(db, 'books', bookId);\n    await updateDoc(bookRef, {\n      favoritedBy: arrayRemove(userId),\n      favoritesCount: increment(-1)\n    });\n    \n    console.log('Livro removido dos favoritos com sucesso');\n  } catch (error) {\n    console.error('Erro ao remover dos favoritos:', error);\n    throw error;\n  }\n}\n\n// Verificar se um livro está nos favoritos do usuário\nexport async function isBookFavorited(bookId, userId) {\n  try {\n    const bookDoc = await getDoc(doc(db, 'books', bookId));\n    if (bookDoc.exists()) {\n      const bookData = bookDoc.data();\n      return bookData.favoritedBy && bookData.favoritedBy.includes(userId);\n    }\n    return false;\n  } catch (error) {\n    console.error('Erro ao verificar favoritos:', error);\n    throw error;\n  }\n}\n\n// Buscar livros favoritos do usuário\nexport async function getUserFavorites(userId) {\n  try {\n    const q = query(booksCollection, where('favoritedBy', 'array-contains', userId));\n    const querySnapshot = await getDocs(q);\n    return querySnapshot.docs.map(doc => ({\n      id: doc.id,\n      ...doc.data()\n    }));\n  } catch (error) {\n    console.error('Erro ao buscar favoritos do usuário:', error);\n    throw error;\n  }\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}