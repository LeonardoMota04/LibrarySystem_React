{"ast":null,"code":"var _jsxFileName = \"/Users/leonardomota/Desktop/testeDeSoftware/library-system-react/src/components/BookCard.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { addToFavorites, removeFromFavorites } from \"../services/bookService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookCard = ({\n  book\n}) => {\n  _s();\n  var _book$publishedDate;\n  const {\n    user\n  } = useAuth();\n  const [isFavorite, setIsFavorite] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const handleToggleFavorite = async () => {\n    if (!user) return;\n    try {\n      setLoading(true);\n      if (isFavorite) {\n        await removeFromFavorites(user.uid, book.id);\n        setIsFavorite(false);\n      } else {\n        await addToFavorites(user.uid, book.id);\n        setIsFavorite(true);\n      }\n    } catch (error) {\n      console.error(\"Erro ao atualizar favoritos:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: book.imageUrl || \"https://via.placeholder.com/150x200\",\n        alt: book.title,\n        className: \"w-full h-48 object-cover\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), user && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleToggleFavorite,\n        disabled: loading,\n        className: `absolute top-2 right-2 p-2 rounded-full ${isFavorite ? \"bg-red-500 text-white\" : \"bg-white text-gray-500 hover:bg-gray-100\"}`,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"h-6 w-6\",\n          fill: isFavorite ? \"currentColor\" : \"none\",\n          viewBox: \"0 0 24 24\",\n          stroke: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            strokeWidth: 2,\n            d: \"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-2 line-clamp-2\",\n        children: book.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 text-sm mb-2\",\n        children: book.author\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500 text-sm line-clamp-3\",\n        children: book.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-500\",\n          children: ((_book$publishedDate = book.publishedDate) === null || _book$publishedDate === void 0 ? void 0 : _book$publishedDate.split(\"-\")[0]) || \"Ano desconhecido\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), book.previewLink && /*#__PURE__*/_jsxDEV(\"a\", {\n          href: book.previewLink,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          className: \"text-blue-500 hover:text-blue-600 text-sm\",\n          children: \"Ver mais\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n_s(BookCard, \"zbDuRhksTBQ6uzGfX+dVpGYAH4c=\", false, function () {\n  return [useAuth];\n});\n_c = BookCard;\nexport default BookCard;\nvar _c;\n$RefreshReg$(_c, \"BookCard\");","map":{"version":3,"names":["useState","useAuth","addToFavorites","removeFromFavorites","jsxDEV","_jsxDEV","BookCard","book","_s","_book$publishedDate","user","isFavorite","setIsFavorite","loading","setLoading","handleToggleFavorite","uid","id","error","console","className","children","src","imageUrl","alt","title","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","author","description","publishedDate","split","previewLink","href","target","rel","_c","$RefreshReg$"],"sources":["/Users/leonardomota/Desktop/testeDeSoftware/library-system-react/src/components/BookCard.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { addToFavorites, removeFromFavorites } from \"../services/bookService\";\n\nconst BookCard = ({ book }) => {\n  const { user } = useAuth();\n  const [isFavorite, setIsFavorite] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const handleToggleFavorite = async () => {\n    if (!user) return;\n    \n    try {\n      setLoading(true);\n      if (isFavorite) {\n        await removeFromFavorites(user.uid, book.id);\n        setIsFavorite(false);\n      } else {\n        await addToFavorites(user.uid, book.id);\n        setIsFavorite(true);\n      }\n    } catch (error) {\n      console.error(\"Erro ao atualizar favoritos:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow\">\n      <div className=\"relative\">\n        <img\n          src={book.imageUrl || \"https://via.placeholder.com/150x200\"}\n          alt={book.title}\n          className=\"w-full h-48 object-cover\"\n        />\n        {user && (\n          <button\n            onClick={handleToggleFavorite}\n            disabled={loading}\n            className={`absolute top-2 right-2 p-2 rounded-full ${\n              isFavorite\n                ? \"bg-red-500 text-white\"\n                : \"bg-white text-gray-500 hover:bg-gray-100\"\n            }`}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-6 w-6\"\n              fill={isFavorite ? \"currentColor\" : \"none\"}\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n              />\n            </svg>\n          </button>\n        )}\n      </div>\n      <div className=\"p-4\">\n        <h3 className=\"text-lg font-semibold mb-2 line-clamp-2\">{book.title}</h3>\n        <p className=\"text-gray-600 text-sm mb-2\">{book.author}</p>\n        <p className=\"text-gray-500 text-sm line-clamp-3\">{book.description}</p>\n        <div className=\"mt-4 flex justify-between items-center\">\n          <span className=\"text-sm text-gray-500\">\n            {book.publishedDate?.split(\"-\")[0] || \"Ano desconhecido\"}\n          </span>\n          {book.previewLink && (\n            <a\n              href={book.previewLink}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"text-blue-500 hover:text-blue-600 text-sm\"\n            >\n              Ver mais\n            </a>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BookCard;\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}