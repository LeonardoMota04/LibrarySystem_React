{"ast":null,"code":"var _jsxFileName = \"/Users/leonardomota/Desktop/testeDeSoftware/library-system-react/src/components/BookCard.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { addToFavorites, removeFromFavorites } from \"../services/bookService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookCard = ({\n  book\n}) => {\n  _s();\n  const [isFavorite, setIsFavorite] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const {\n    user\n  } = useAuth();\n  useEffect(() => {\n    // TODO: Implementar verificação de favoritos\n  }, [book.id, user]);\n  const handleToggleFavorite = async () => {\n    if (!user) {\n      alert(\"Por favor, faça login para favoritar livros.\");\n      return;\n    }\n    setLoading(true);\n    try {\n      if (isFavorite) {\n        await removeFromFavorites(user.uid, book.id);\n        setIsFavorite(false);\n      } else {\n        await addToFavorites(user.uid, book.id);\n        setIsFavorite(true);\n      }\n    } catch (error) {\n      console.error(\"Erro ao atualizar favoritos:\", error);\n      alert(\"Erro ao atualizar favoritos. Por favor, tente novamente.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"aspect-w-3 aspect-h-4\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: book.imageUrl || \"https://via.placeholder.com/300x400\",\n        alt: book.title,\n        className: \"object-cover w-full h-full\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-800 mb-2 line-clamp-2\",\n        children: book.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-600 mb-2\",\n        children: book.author || \"Autor desconhecido\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-gray-500 mb-4 line-clamp-3\",\n        children: book.description || \"Sem descrição disponível.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleToggleFavorite,\n          disabled: loading,\n          className: `flex items-center gap-2 px-3 py-1 rounded-full text-sm transition-colors ${isFavorite ? \"bg-red-100 text-red-600 hover:bg-red-200\" : \"bg-gray-100 text-gray-600 hover:bg-gray-200\"} disabled:opacity-50`,\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4\",\n            fill: isFavorite ? \"currentColor\" : \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), loading ? \"...\" : isFavorite ? \"Favoritado\" : \"Favoritar\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), book.previewLink && /*#__PURE__*/_jsxDEV(\"a\", {\n          href: book.previewLink,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          className: \"text-blue-500 hover:text-blue-600 text-sm\",\n          children: \"Ver mais\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_s(BookCard, \"0XVtdSb1XmtQDkD+QP1PA5pkxkk=\", false, function () {\n  return [useAuth];\n});\n_c = BookCard;\nexport default BookCard;\nvar _c;\n$RefreshReg$(_c, \"BookCard\");","map":{"version":3,"names":["useState","useEffect","useAuth","addToFavorites","removeFromFavorites","jsxDEV","_jsxDEV","BookCard","book","_s","isFavorite","setIsFavorite","loading","setLoading","user","id","handleToggleFavorite","alert","uid","error","console","className","children","src","imageUrl","alt","title","fileName","_jsxFileName","lineNumber","columnNumber","author","description","onClick","disabled","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","previewLink","href","target","rel","_c","$RefreshReg$"],"sources":["/Users/leonardomota/Desktop/testeDeSoftware/library-system-react/src/components/BookCard.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { addToFavorites, removeFromFavorites } from \"../services/bookService\";\n\nconst BookCard = ({ book }) => {\n  const [isFavorite, setIsFavorite] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const { user } = useAuth();\n\n  useEffect(() => {\n    // TODO: Implementar verificação de favoritos\n  }, [book.id, user]);\n\n  const handleToggleFavorite = async () => {\n    if (!user) {\n      alert(\"Por favor, faça login para favoritar livros.\");\n      return;\n    }\n\n    setLoading(true);\n    try {\n      if (isFavorite) {\n        await removeFromFavorites(user.uid, book.id);\n        setIsFavorite(false);\n      } else {\n        await addToFavorites(user.uid, book.id);\n        setIsFavorite(true);\n      }\n    } catch (error) {\n      console.error(\"Erro ao atualizar favoritos:\", error);\n      alert(\"Erro ao atualizar favoritos. Por favor, tente novamente.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow\">\n      <div className=\"aspect-w-3 aspect-h-4\">\n        <img\n          src={book.imageUrl || \"https://via.placeholder.com/300x400\"}\n          alt={book.title}\n          className=\"object-cover w-full h-full\"\n        />\n      </div>\n      <div className=\"p-4\">\n        <h3 className=\"text-lg font-semibold text-gray-800 mb-2 line-clamp-2\">\n          {book.title}\n        </h3>\n        <p className=\"text-sm text-gray-600 mb-2\">\n          {book.author || \"Autor desconhecido\"}\n        </p>\n        <p className=\"text-sm text-gray-500 mb-4 line-clamp-3\">\n          {book.description || \"Sem descrição disponível.\"}\n        </p>\n        <div className=\"flex justify-between items-center\">\n          <button\n            onClick={handleToggleFavorite}\n            disabled={loading}\n            className={`flex items-center gap-2 px-3 py-1 rounded-full text-sm transition-colors ${\n              isFavorite\n                ? \"bg-red-100 text-red-600 hover:bg-red-200\"\n                : \"bg-gray-100 text-gray-600 hover:bg-gray-200\"\n            } disabled:opacity-50`}\n          >\n            <svg\n              className=\"w-4 h-4\"\n              fill={isFavorite ? \"currentColor\" : \"none\"}\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\n              />\n            </svg>\n            {loading ? \"...\" : isFavorite ? \"Favoritado\" : \"Favoritar\"}\n          </button>\n          {book.previewLink && (\n            <a\n              href={book.previewLink}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"text-blue-500 hover:text-blue-600 text-sm\"\n            >\n              Ver mais\n            </a>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BookCard;\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}